{"remainingRequest":"C:\\Users\\Dazek\\Desktop\\app\\app1\\app1\\vue-cli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Dazek\\Desktop\\app\\app1\\app1\\vue-cli\\src\\components\\Recipe.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Dazek\\Desktop\\app\\app1\\app1\\vue-cli\\src\\components\\Recipe.vue","mtime":1555873133775},{"path":"C:\\Users\\Dazek\\Desktop\\app\\app1\\app1\\vue-cli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dazek\\Desktop\\app\\app1\\app1\\vue-cli\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Dazek\\Desktop\\app\\app1\\app1\\vue-cli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Dazek\\Desktop\\app\\app1\\app1\\vue-cli\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"Recipe\",\n  props: [\"recipeProp\", \"index\"],\n\n  data:\n  \n   function(){\n    console.log(this.recipeProp);\n    return {\n      recipe: this.recipeProp,\n    }\n  },\n\n  methods: {\n    GetRecipeDetails(aIndex) {\n      let $this = this;\n      this.recipe.loading = true;\n\n      if(this.recipe.instructions)\n        return;\n\n      fetch('https://www.themealdb.com/api/json/v1/1/lookup.php?i=' + this.recipe.idMeal + '&api_key=8673533')\n        .then(\n          function (response) {\n            if (response.status !== 200) {\n              console.log('Looks like there was a problem. Status Code: ' + response.status);\n              return;\n            }\n\n            response.json().then(function (data) {\n              console.log(data);\n              $this.recipe.tab = \"ingredients\";\n              $this.recipe.instructions = data.meals[0].strInstructions;\n              $this.recipe.ingredients = [];\n\n              Object.keys(data.meals[0]).forEach(function(aItem){\n                if(aItem.indexOf(\"strIngredient\") >= 0 && data.meals[0][aItem].length > 0)\n                {\n                  let measure = aItem.replace(\"strIngredient\", \"strMeasure1\");\n                  if(data.meals[0][measure])\n                    $this.recipe.ingredients.push(data.meals[0][aItem] + \" \" + data.meals[0][measure]);\n                  else\n                    $this.recipe.ingredients.push(data.meals[0][aItem]);\n                }\n              });\n\n              $this.$forceUpdate();\n            });\n\n            $this.recipe.loading = false;\n          }\n        )\n        .catch(function (err) {\n          console.log('Fetch Error :-S', err);\n          $this.recipe.loading = false;\n        });\n    },\n\n    SwitchTab(aIndex, aTabName) {\n      this.recipe.tab = aTabName;\n      this.$forceUpdate();\n    },\n    Bookmark(aIndex){\n      alert(\"You successfully bookmarked this recipe!\");\n      var book = { 'name': this.$route.params.recipes.meals[aIndex].strMeal, 'id': this.$route.params.recipes.meals[aIndex].idMeal ,\n       'thumb' : this.$route.params.recipes.meals[aIndex].strMealThumb };\n  \n      localStorage.setItem('Bookmarked', JSON.stringify(book));\n      \n        \n    }\n\n\n    \n  }\n  \n}\n\n",{"version":3,"sources":["Recipe.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;;;AAIA;;AAEA","file":"Recipe.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"card m-2\">\r\n        <img class=\"card-img-top\" :src=\"recipe.strMealThumb\" :alt=\"recipe.strMeal\">\r\n        <div class=\"card-body\">\r\n            <div>\r\n                <strong>{{recipe.strMeal}}</strong>\r\n            </div>\r\n            <button class=\"btn btn-link\" data-toggle=\"collapse\" :data-target=\"'#recipe-' + recipe.idMeal\" role=\"button\"\r\n                    @click=\"GetRecipeDetails(index)\"\r\n                    aria-expanded=\"false\" :aria-controls=\"'recipe-' + recipe.idMeal\">\r\n                View recipe\r\n            </button>\r\n            <div class=\"collapse mt-3\" :id=\"'recipe-' + recipe.idMeal\">\r\n                <img v-if=\"!recipe.instructions\" alt=\"Loading\" src=\"../assets/loading.svg\" class=\"image-overlay mt-4 mb-5\" width=\"50\">\r\n                <ul v-else class=\"nav nav-tabs\">\r\n                    <li class=\"nav-recipe\">\r\n                        <a :class=\"'nav-link ' + (recipe.tab === 'ingredients' || !recipe.tab ? 'active' : '')\" href=\"#\" @click.prevent=\"SwitchTab(index, 'ingredients')\">\r\n                            <img alt=\"Ingredients\" src=\"../assets/harvest.svg\" width=\"30\">\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"nav-recipe\">\r\n                        <a :class=\"'nav-link ' + (recipe.tab === 'instructions' ? 'active' : '')\" href=\"#\" @click.prevent=\"SwitchTab(index, 'instructions')\">\r\n                            <img alt=\"Ingredients\" src=\"../assets/book.svg\" width=\"30\">\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"nav-recipe\">\r\n                        <a :class=\"'nav-link ' + (recipe.tab === 'bookmarks' ? 'active' : '')\" href=\"#\" @click.prevent=\"SwitchTab(index, 'bookmarks')\">\r\n                            <img alt=\"Bookmarks\" src=\"../assets/star.png\" width=\"30\">\r\n                        </a>\r\n                    </li>\r\n\r\n                </ul>\r\n                <div v-if=\"recipe.tab === 'instructions'\" class=\"text-left mt-3\">\r\n                    {{recipe.instructions}}\r\n                </div>\r\n                <div v-if=\"recipe.tab === 'ingredients'\" class=\"text-left mt-3\">\r\n                    <ul>\r\n                        <li v-for=\"(ingredientItem, ingredientIndex) in recipe.ingredients\">\r\n                            {{ingredientItem}}\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div v-if=\"recipe.tab === 'bookmarks'\" class=\"text-left mt-3\" @click=\"Bookmark(index)\">\r\n                   Click <span style=\"color:#f44242;\">here</span> to add {{recipe.strMeal}} recipe to the bookmarks.\r\n                   </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"Recipe\",\r\n    props: [\"recipeProp\", \"index\"],\r\n\r\n    data:\r\n    \r\n     function(){\r\n      console.log(this.recipeProp);\r\n      return {\r\n        recipe: this.recipeProp,\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      GetRecipeDetails(aIndex) {\r\n        let $this = this;\r\n        this.recipe.loading = true;\r\n\r\n        if(this.recipe.instructions)\r\n          return;\r\n\r\n        fetch('https://www.themealdb.com/api/json/v1/1/lookup.php?i=' + this.recipe.idMeal + '&api_key=8673533')\r\n          .then(\r\n            function (response) {\r\n              if (response.status !== 200) {\r\n                console.log('Looks like there was a problem. Status Code: ' + response.status);\r\n                return;\r\n              }\r\n\r\n              response.json().then(function (data) {\r\n                console.log(data);\r\n                $this.recipe.tab = \"ingredients\";\r\n                $this.recipe.instructions = data.meals[0].strInstructions;\r\n                $this.recipe.ingredients = [];\r\n\r\n                Object.keys(data.meals[0]).forEach(function(aItem){\r\n                  if(aItem.indexOf(\"strIngredient\") >= 0 && data.meals[0][aItem].length > 0)\r\n                  {\r\n                    let measure = aItem.replace(\"strIngredient\", \"strMeasure1\");\r\n                    if(data.meals[0][measure])\r\n                      $this.recipe.ingredients.push(data.meals[0][aItem] + \" \" + data.meals[0][measure]);\r\n                    else\r\n                      $this.recipe.ingredients.push(data.meals[0][aItem]);\r\n                  }\r\n                });\r\n\r\n                $this.$forceUpdate();\r\n              });\r\n\r\n              $this.recipe.loading = false;\r\n            }\r\n          )\r\n          .catch(function (err) {\r\n            console.log('Fetch Error :-S', err);\r\n            $this.recipe.loading = false;\r\n          });\r\n      },\r\n\r\n      SwitchTab(aIndex, aTabName) {\r\n        this.recipe.tab = aTabName;\r\n        this.$forceUpdate();\r\n      },\r\n      Bookmark(aIndex){\r\n        alert(\"You successfully bookmarked this recipe!\");\r\n        var book = { 'name': this.$route.params.recipes.meals[aIndex].strMeal, 'id': this.$route.params.recipes.meals[aIndex].idMeal ,\r\n         'thumb' : this.$route.params.recipes.meals[aIndex].strMealThumb };\r\n    \r\n        localStorage.setItem('Bookmarked', JSON.stringify(book));\r\n        \r\n          \r\n      }\r\n\r\n\r\n      \r\n    }\r\n    \r\n  }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n    .card-columns {\r\n        column-count: 5;\r\n    }\r\n\r\n    @media screen and (max-width: 568px) {\r\n        .card-columns {\r\n            column-count: 1;\r\n        }\r\n    }\r\n\r\n</style>"]}]}